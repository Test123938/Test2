<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="720px" preserveAspectRatio="none" style="width:404px;height:720px;background:#00000000;" version="1.1" viewBox="0 0 404 720" width="404px" zoomAndPan="magnify"><defs><filter height="300%" id="f1h75lx96n47lf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[211aa72133353d37f87d1079ee8085e3]
class StateMachineGoapAI--><rect codeLine="6" fill="#FEFECE" filter="url(#f1h75lx96n47lf)" height="384.832" id="StateMachineGoapAI" style="stroke:#FF0000;stroke-width:1.5;" width="381" x="9" y="322"/><ellipse cx="136.75" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke:#FF0000;stroke-width:1.0;"/><path d="M139.2231,344.1431 Q138.6421,344.4419 138.0029,344.5913 Q137.3638,344.7407 136.6582,344.7407 Q134.1514,344.7407 132.8315,343.0889 Q131.5117,341.437 131.5117,338.3159 Q131.5117,335.1865 132.8315,333.5347 Q134.1514,331.8828 136.6582,331.8828 Q137.3638,331.8828 138.0112,332.0322 Q138.6587,332.1816 139.2231,332.4805 L139.2231,335.2031 Q138.5923,334.6221 137.9988,334.3523 Q137.4053,334.0825 136.7744,334.0825 Q135.4297,334.0825 134.7449,335.1492 Q134.0601,336.2158 134.0601,338.3159 Q134.0601,340.4077 134.7449,341.4744 Q135.4297,342.541 136.7744,342.541 Q137.4053,342.541 137.9988,342.2712 Q138.5923,342.0015 139.2231,341.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="157.25" y="342.5352">StateMachineGoapAI</text><line style="stroke:#FF0000;stroke-width:1.5;" x1="10" x2="389" y1="354" y2="354"/><ellipse cx="20" cy="365" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="29" y="368.6348">currentStatus : string[]</text><ellipse cx="20" cy="377.9551" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="29" y="381.5898">goal : string</text><ellipse cx="20" cy="390.9102" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="29" y="394.5449">plan : Stack&lt;GoapAction&gt;</text><ellipse cx="20" cy="403.8652" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="29" y="407.5">planner : GoapActionPlanner</text><ellipse cx="20" cy="416.8203" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="29" y="420.4551">possibleActions : GoapAction[]</text><polygon fill="none" points="20,424.7754,24,428.7754,20,432.7754,16,428.7754" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="29" y="433.4102">active : boolean</text><polygon fill="none" points="20,437.7305,24,441.7305,20,445.7305,16,441.7305" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="29" y="446.3652">currentState : State</text><polygon fill="none" points="20,450.6855,24,454.6855,20,458.6855,16,454.6855" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="29" y="459.3203">emitEventOnStateChange : boolean</text><polygon fill="none" points="20,463.6406,24,467.6406,20,471.6406,16,467.6406" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="29" y="472.2754">emitter : Emitter</text><polygon fill="none" points="20,476.5957,24,480.5957,20,484.5957,16,480.5957" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="29" y="485.2305">owner : GameNode</text><polygon fill="none" points="20,489.5508,24,493.5508,20,497.5508,16,493.5508" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="29" y="498.1855">receiver : Receiver</text><polygon fill="none" points="20,502.5059,24,506.5059,20,510.5059,16,506.5059" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="29" y="511.1406">stack : Stack&lt;State&gt;</text><polygon fill="none" points="20,515.4609,24,519.4609,20,523.4609,16,519.4609" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="29" y="524.0957">stateChangeEventName : string</text><polygon fill="none" points="20,528.416,24,532.416,20,536.416,16,532.416" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="29" y="537.0508">stateMap : Map&lt;State&gt;</text><line style="stroke:#FF0000;stroke-width:1.5;" x1="10" x2="389" y1="543.3711" y2="543.3711"/><ellipse cx="20" cy="554.3711" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="241" x="29" y="558.0059">activate(options: Record&lt;string, any&gt;) : void</text><ellipse cx="20" cy="567.3262" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="244" x="29" y="570.9609">addState(stateName: string, state: State) : void</text><ellipse cx="20" cy="580.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="29" y="583.916">cancelEmitEventOnStateChange() : void</text><ellipse cx="20" cy="593.2363" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="29" y="596.8711">changeGoal(goal: string) : void</text><ellipse cx="20" cy="606.1914" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="29" y="609.8262">changeState(state: string) : void</text><ellipse cx="20" cy="619.1465" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="29" y="622.7813">destroy() : void</text><ellipse cx="20" cy="632.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="29" y="635.7363">handleEvent(event: GameEvent) : void</text><ellipse cx="20" cy="645.0566" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="29" y="648.6914">initialize(initialState: string, options: Record&lt;string, any&gt;) : void</text><ellipse cx="20" cy="658.0117" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="351" x="29" y="661.6465">initializeAI(owner: GameNode, config: Record&lt;string, any&gt;) : void</text><ellipse cx="20" cy="670.9668" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="29" y="674.6016">setActive(flag: boolean) : void</text><ellipse cx="20" cy="683.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="355" x="29" y="687.5566">setEmitEventOnStateChange(stateChangeEventName: string) : void</text><ellipse cx="20" cy="696.877" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="29" y="700.5117">update(deltaT: number) : void</text><!--MD5=[3626c233e602113c8cf5977cfac9c02f]
class StateMachine--><rect codeLine="34" fill="#FEFECE" filter="url(#f1h75lx96n47lf)" height="255.2813" id="StateMachine" style="stroke:#FF0000;stroke-width:1.5;" width="381" x="9" y="7"/><ellipse cx="157.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#FF0000;stroke-width:1.0;"/><path d="M160.2231,29.1431 Q159.6421,29.4419 159.0029,29.5913 Q158.3638,29.7407 157.6582,29.7407 Q155.1514,29.7407 153.8315,28.0889 Q152.5117,26.437 152.5117,23.3159 Q152.5117,20.1865 153.8315,18.5347 Q155.1514,16.8828 157.6582,16.8828 Q158.3638,16.8828 159.0112,17.0322 Q159.6587,17.1816 160.2231,17.4805 L160.2231,20.2031 Q159.5923,19.6221 158.9988,19.3523 Q158.4053,19.0825 157.7744,19.0825 Q156.4297,19.0825 155.7449,20.1492 Q155.0601,21.2158 155.0601,23.3159 Q155.0601,25.4077 155.7449,26.4744 Q156.4297,27.541 157.7744,27.541 Q158.4053,27.541 158.9988,27.2712 Q159.5923,27.0015 160.2231,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="178.25" y="27.5352">StateMachine</text><line style="stroke:#FF0000;stroke-width:1.5;" x1="10" x2="389" y1="39" y2="39"/><polygon fill="none" points="20,45,24,49,20,53,16,49" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="29" y="53.6348">active : boolean</text><polygon fill="none" points="20,57.9551,24,61.9551,20,65.9551,16,61.9551" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="29" y="66.5898">currentState : State</text><polygon fill="none" points="20,70.9102,24,74.9102,20,78.9102,16,74.9102" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="29" y="79.5449">emitEventOnStateChange : boolean</text><polygon fill="none" points="20,83.8652,24,87.8652,20,91.8652,16,87.8652" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="29" y="92.5">emitter : Emitter</text><polygon fill="none" points="20,96.8203,24,100.8203,20,104.8203,16,100.8203" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="29" y="105.4551">receiver : Receiver</text><polygon fill="none" points="20,109.7754,24,113.7754,20,117.7754,16,113.7754" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="29" y="118.4102">stack : Stack&lt;State&gt;</text><polygon fill="none" points="20,122.7305,24,126.7305,20,130.7305,16,126.7305" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="29" y="131.3652">stateChangeEventName : string</text><polygon fill="none" points="20,135.6855,24,139.6855,20,143.6855,16,139.6855" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="29" y="144.3203">stateMap : Map&lt;State&gt;</text><line style="stroke:#FF0000;stroke-width:1.5;" x1="10" x2="389" y1="150.6406" y2="150.6406"/><ellipse cx="20" cy="161.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="244" x="29" y="165.2754">addState(stateName: string, state: State) : void</text><ellipse cx="20" cy="174.5957" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="29" y="178.2305">cancelEmitEventOnStateChange() : void</text><ellipse cx="20" cy="187.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="29" y="191.1855">changeState(state: string) : void</text><ellipse cx="20" cy="200.5059" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="29" y="204.1406">handleEvent(event: GameEvent) : void</text><ellipse cx="20" cy="213.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="29" y="217.0957">initialize(initialState: string, options: Record&lt;string, any&gt;) : void</text><ellipse cx="20" cy="226.416" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="29" y="230.0508">setActive(flag: boolean) : void</text><ellipse cx="20" cy="239.3711" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="355" x="29" y="243.0059">setEmitEventOnStateChange(stateChangeEventName: string) : void</text><ellipse cx="20" cy="252.3262" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="29" y="255.9609">update(deltaT: number) : void</text><!--MD5=[23639ed3241a153fcf2fe8084763e730]
reverse link StateMachine to StateMachineGoapAI--><path codeLine="52" d="M199.5,282.26 C199.5,295.23 199.5,308.48 199.5,321.74 " fill="none" id="StateMachine-backto-StateMachineGoapAI" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="none" points="192.5,282.16,199.5,262.16,206.5,282.16,192.5,282.16" style="stroke:#FF0000;stroke-width:1.0;"/><!--MD5=[2876e744bcab9f445e0a1b9928d98c51]
@startuml
skinparam ClassArrowColor #ff0000
skinparam ClassBorderColor #ff0000
skinparam BackgroundColor transparent
hide empty methods
hide empty fields
class "StateMachineGoapAI" {
    +currentStatus : string[]
    +goal : string
    +plan : Stack<GoapAction>
    +planner : GoapActionPlanner
    +possibleActions : GoapAction[]
    #active : boolean
    #currentState : State
    #emitEventOnStateChange : boolean
    #emitter : Emitter
    #owner : GameNode
    #receiver : Receiver
    #stack : Stack<State>
    #stateChangeEventName : string
    #stateMap : Map<State>
    +activate(options: Record<string, any>) : void
    +addState(stateName: string, state: State) : void
    +cancelEmitEventOnStateChange() : void
    +changeGoal(goal: string) : void
    +changeState(state: string) : void
    +destroy() : void
    +handleEvent(event: GameEvent) : void
    +initialize(initialState: string, options: Record<string, any>) : void
    +initializeAI(owner: GameNode, config: Record<string, any>) : void
    +setActive(flag: boolean) : void
    +setEmitEventOnStateChange(stateChangeEventName: string) : void
    +update(deltaT: number) : void
}
class "StateMachine" {
    #active : boolean
    #currentState : State
    #emitEventOnStateChange : boolean
    #emitter : Emitter
    #receiver : Receiver
    #stack : Stack<State>
    #stateChangeEventName : string
    #stateMap : Map<State>
    +addState(stateName: string, state: State) : void
    +cancelEmitEventOnStateChange() : void
    +changeState(state: string) : void
    +handleEvent(event: GameEvent) : void
    +initialize(initialState: string, options: Record<string, any>) : void
    +setActive(flag: boolean) : void
    +setEmitEventOnStateChange(stateChangeEventName: string) : void
    +update(deltaT: number) : void
}
"StateMachine" <|- - "StateMachineGoapAI"
@enduml

PlantUML version 1.2021.14(Fri Nov 12 11:46:50 EST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>